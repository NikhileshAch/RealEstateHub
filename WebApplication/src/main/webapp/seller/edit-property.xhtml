<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Edit Property - RealEstateHub</title>
    <h:outputStylesheet library="css" name="style.css"/>
    <style>
        .property-form-card {
            max-width: 700px;
            margin: 30px auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .form-header {
            background: linear-gradient(135deg, #1a2a4a 0%, #2c3e5a 100%);
            padding: 25px;
            text-align: center;
            color: white;
        }
        .form-header h1 {
            margin: 0;
            font-size: 1.8rem;
        }
        .form-header p {
            margin: 10px 0 0;
            opacity: 0.9;
        }
        .form-body {
            padding: 25px;
        }
        .p-field {
            margin-bottom: 18px;
        }
        .p-field label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #333;
        }
        .ui-inputtext, .ui-selectonemenu, .ui-spinner, .ui-inputnumber, .ui-inputtextarea {
            width: 100% !important;
        }
        .form-row {
            display: flex;
            gap: 15px;
        }
        .form-row .p-field {
            flex: 1;
        }
        .form-actions {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }
        .form-actions .ui-button {
            flex: 1;
        }
        .features-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
        }
        .features-section h3 {
            margin: 0 0 15px;
            color: #333;
        }
        .feature-checkboxes {
            display: flex;
            gap: 25px;
            flex-wrap: wrap;
        }
        .feature-checkboxes label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
    </style>
</h:head>
<h:body>
    <div class="container">
        <!-- Navigation Bar -->
        <div class="navbar">
            <div class="navbar-brand">RealEstateHub - Edit Property</div>
            <div class="navbar-user">
                <span class="user-info">Welcome, #{sessionBean.userFullName}!</span>
                <h:form>
                    <p:commandButton value="My Properties" action="/seller/my-properties?faces-redirect=true" 
                                   icon="pi pi-list" styleClass="ui-button-secondary"/>
                    <p:commandButton value="Logout" action="#{sessionBean.logout()}" 
                                   icon="pi pi-sign-out" styleClass="ui-button-danger" ajax="false"/>
                </h:form>
            </div>
        </div>
        
        <div class="property-form-card">
            <div class="form-header">
                <h1>Edit Property</h1>
                <p>Update your property details</p>
            </div>
            
            <div class="form-body">
                <p:growl id="messages" showDetail="true" life="5000"/>
                <h:messages styleClass="messages"/>
                
                <h:form>
                    <div class="form-row">
                        <div class="p-field">
                            <label for="address">Address *</label>
                            <p:inputText id="address" value="#{propertyBean.address}" 
                                       required="true" requiredMessage="Address is required"/>
                            <p:message for="address"/>
                        </div>
                        
                        <div class="p-field">
                            <label for="propertyType">Property Type *</label>
                            <p:selectOneMenu id="propertyType" value="#{propertyBean.propertyType}" 
                                           required="true" requiredMessage="Property type is required"
                                           filter="true" filterMatchMode="contains">
                                <f:selectItem itemValue="" itemLabel="-- Select Type --"/>
                                <f:selectItem itemValue="HOUSE" itemLabel="House"/>
                                <f:selectItem itemValue="APARTMENT" itemLabel="Apartment"/>
                                <f:selectItem itemValue="CONDO" itemLabel="Condo"/>
                                <f:selectItem itemValue="TOWNHOUSE" itemLabel="Townhouse"/>
                                <f:selectItem itemValue="LAND" itemLabel="Land"/>
                            </p:selectOneMenu>
                            <p:message for="propertyType"/>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="p-field">
                            <label for="price">Price (CHF) *</label>
                            <p:inputNumber id="price" value="#{propertyBean.price}" 
                                         required="true" requiredMessage="Price is required"
                                         symbol=" CHF" symbolPosition="s" 
                                         decimalSeparator="." thousandSeparator="'"
                                         minValue="1"/>
                            <p:message for="price"/>
                        </div>
                        
                        <div class="p-field">
                            <label for="squareFootage">Size (sqm) *</label>
                            <p:spinner id="squareFootage" value="#{propertyBean.squareFootage}" 
                                      required="true" requiredMessage="Size is required"
                                      min="1" max="100000" stepFactor="10"/>
                            <p:message for="squareFootage"/>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="p-field">
                            <label for="bedrooms">Bedrooms *</label>
                            <p:spinner id="bedrooms" value="#{propertyBean.bedrooms}" 
                                      required="true" requiredMessage="Bedrooms is required"
                                      min="0" max="20" stepFactor="1"/>
                            <p:message for="bedrooms"/>
                        </div>
                        
                        <div class="p-field">
                            <label for="bathrooms">Bathrooms *</label>
                            <p:spinner id="bathrooms" value="#{propertyBean.bathrooms}" 
                                      required="true" requiredMessage="Bathrooms is required"
                                      min="0" max="20" stepFactor="1"/>
                            <p:message for="bathrooms"/>
                        </div>
                    </div>
                    
                    <div class="p-field">
                        <label for="description">Description</label>
                        <p:inputTextarea id="description" value="#{propertyBean.description}" 
                                       rows="4" autoResize="true"
                                       placeholder="Describe your property in detail..."/>
                        <p:message for="description"/>
                    </div>
                    
                    <div class="form-actions">
                        <p:commandButton value="Update Property" 
                                       action="#{propertyBean.updateProperty()}" 
                                       icon="pi pi-save" styleClass="ui-button-success"
                                       ajax="false"/>
                        <p:commandButton value="Cancel" action="/seller/my-properties?faces-redirect=true" 
                                       immediate="true" icon="pi pi-times" styleClass="ui-button-secondary"
                                       ajax="false"/>
                    </div>
                </h:form>
            </div>
        </div>
    </div>
</h:body>
</html>
